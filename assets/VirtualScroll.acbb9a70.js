let t=document.createElement("style");t.innerHTML=".virtual-scroll{position:relative;display:block;width:100%;max-width:100%;overflow:auto;flex:1 1 auto}.virtual-scroll__container{display:block}.virtual-scroll__item{position:absolute;right:0;left:0}.virtual-scroll-demo-wrap[data-v-040aa790]{display:flex;margin:0 30%;background:#fff;justify-content:center}[data-v-040aa790] .virtual-scroll-demo__item{height:40px;padding:0 20px;line-height:40px;border-bottom:1px solid #ddd}",document.head.appendChild(t);import{d as i,r as e,b as a,c as l,q as r,ay as s,aI as n,u as o,v as d,y as c,p as m,h as u,i as h,o as p,j as g,k as f,l as v,w as b,n as x}from"./index.12c9c6d9.js";import{D as _}from"./index.804035b7.js";import{g as y}from"./tsxHelper.629ff8d8.js";function H(t,i="px"){return null==t||""===t?void 0:isNaN(+t)?String(t):`${Number(t)}${i}`}var w=i({name:"VirtualScroll",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},setup(t,{slots:i}){const m=e(null),u=a({first:0,last:0,scrollTop:0}),h=l((()=>parseInt(t.bench,10))),p=l((()=>parseInt(t.itemHeight,10))),g=l((()=>Math.max(0,u.first-o(h)))),f=l((()=>Math.min((t.items||[]).length,u.last+o(h)))),v=l((()=>({height:H((t.items||[]).length*o(p))}))),b=l((()=>{const i={},e=H(t.height),a=H(t.minHeight),l=H(t.minWidth),r=H(t.maxHeight),s=H(t.maxWidth),n=H(t.width);return e&&(i.height=e),a&&(i.minHeight=a),l&&(i.minWidth=l),r&&(i.maxHeight=r),s&&(i.maxWidth=s),n&&(i.width=n),i}));function x(i){const e=o(m);if(!e)return 0;const a=parseInt(t.height||0,10)||e.clientHeight;return i+Math.ceil(a/o(p))}function _(){const t=o(m);t&&(u.scrollTop=t.scrollTop,u.first=Math.floor(u.scrollTop/o(p)),u.last=x(u.first))}function w(t,e){const a=H((e+=o(g))*o(p));return c("div",{class:"virtual-scroll__item",style:{top:a},key:e},y(i,"default",{index:e,item:t}))}return r([()=>t.itemHeight,()=>t.height],(()=>{_()})),s((()=>{u.last=x(0),n((()=>{const t=o(m);t&&d({el:t,name:"scroll",listener:_,wait:0})}))})),()=>c("div",{class:"virtual-scroll",style:o(b),ref:m},c("div",{class:"virtual-scroll__container",style:o(v)},function(){const{items:i=[]}=t;return i.slice(o(g),o(f)).map(w)}()))}});const S=(()=>{const t=[];for(let i=1;i<2e4;i++)t.push({title:"列表项"+i});return t})();var N=i({components:{VirtualScroll:w,Divider:_},setup:()=>({data:S})});const W=b("data-v-040aa790");m("data-v-040aa790");const j={class:"p-4 virtual-scroll-demo"},k=x("基础滚动示例"),I={class:"virtual-scroll-demo-wrap"},M={class:"virtual-scroll-demo__item"},T=x("即使不可见，也预先加载50条数据，防止空白"),D={class:"virtual-scroll-demo-wrap"},V={class:"virtual-scroll-demo__item"};u();const q=W((function(t,i,e,a,l,r){const s=h("Divider"),n=h("VirtualScroll");return p(),g("div",j,[f(s,null,{default:W((()=>[k])),_:1}),f("div",I,[f(n,{itemHeight:41,items:t.data,height:300,width:300},{default:W((({item:t})=>[f("div",M,v(t.title),1)])),_:1},8,["items"])]),f(s,null,{default:W((()=>[T])),_:1}),f("div",D,[f(n,{itemHeight:41,items:t.data,height:300,width:300,bench:50},{default:W((({item:t})=>[f("div",V,v(t.title),1)])),_:1},8,["items"])])])}));N.render=q,N.__scopeId="data-v-040aa790";export default N;
