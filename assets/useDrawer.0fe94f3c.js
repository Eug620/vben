import{V as t,$ as e,a6 as n,aI as o,aR as r,aS as s,a9 as i,a1 as a,k as l,aT as c,G as u,aU as d,P as h,Q as p,ab as f,R as m,aV as y,aa as b,a5 as g,d as v,c as w,p as O,h as D,o as C,j as T,aW as E,l as S,m as P,w as k,i as j,r as L,s as x,q as A,u as B,y as M,aX as F,ad as I,aY as N,B as $,C as _,aZ as H,t as R,a_ as z,b as U,A as W,a$ as X,b0 as V}from"./index.12c9c6d9.js";import{s as G}from"./BasicTitle.a1ecdb29.js";import"./index.2ca7384a.js";import{L as Y}from"./LeftOutlined.71b4f895.js";import{g as K}from"./tsxHelper.629ff8d8.js";import{b as q}from"./uuid.51fc09fb.js";function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){J(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tt={width:t.any,height:t.any,defaultOpen:t.bool,firstEnter:t.bool,open:t.bool,prefixCls:t.string,placement:t.string,level:t.oneOfType([t.string,t.array]),levelMove:t.oneOfType([t.number,t.func,t.array]),ease:t.string,duration:t.string,handler:t.any,showMask:t.bool,maskStyle:t.object,className:t.string,wrapStyle:t.object,maskClosable:t.bool,afterVisibleChange:t.func,keyboard:t.bool},et=Q(Q({},tt),{},{wrapperClassName:t.string,forceRender:t.bool,getContainer:t.oneOfType([t.string,t.func,t.object,t.bool])});Q(Q({},tt),{},{getContainer:t.func,getOpenCount:t.func,switchScrollingEffect:t.func});var nt={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},ot=Object.keys(nt).filter((function(t){if("undefined"==typeof document)return!1;var e=document.getElementsByTagName("html")[0];return t in(e?e.style:{})}))[0],rt=nt[ot];function st(t,e,n,o){t.addEventListener?t.addEventListener(e,n,o):t.attachEvent&&t.attachEvent("on".concat(e),n)}function it(t,e,n,o){t.removeEventListener?t.removeEventListener(e,n,o):t.attachEvent&&t.detachEvent("on".concat(e),n)}var at=function(t){return!isNaN(parseFloat(t))&&isFinite(t)};function lt(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},s=Object.keys(t);for(o=0;o<s.length;o++)n=s[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(o=0;o<s.length;o++)n=s[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(n),!0).forEach((function(e){ht(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pt(){}var ft={},mt=!("undefined"!=typeof window&&window.document&&window.document.createElement),yt={name:"Drawer",mixins:[e],inheritAttrs:!1,props:n(et,{prefixCls:"drawer",placement:"left",getContainer:"body",level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",firstEnter:!1,showMask:!0,handler:!0,maskStyle:{},wrapperClassName:""}),data:function(){this.levelDom=[],this.contentDom=null,this.maskDom=null,this.handlerdom=null,this.mousePos=null,this.sFirstEnter=this.firstEnter,this.timeout=null,this.children=null,this.drawerId=Number((Date.now()+Math.random()).toString().replace(".",Math.round(9*Math.random()))).toString(16);var t=void 0!==this.open?this.open:!!this.defaultOpen;return ft[this.drawerId]=t,this.orignalOpen=this.open,this.preProps=dt({},this.$props),{sOpen:t,isOpenChange:void 0,passive:void 0,container:void 0}},mounted:function(){var t=this;o((function(){if(!mt){var e=!1;window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return e=!0,null}})),t.passive=!!e&&{passive:!1}}var n=t.getOpen();(t.handler||n||t.sFirstEnter)&&(t.getDefault(t.$props),n&&(t.isOpenChange=!0),t.$forceUpdate())}))},watch:{open:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){void 0!==t&&t!==this.preProps.open&&(this.isOpenChange=!0,this.container||this.getDefault(this.$props),this.setState({sOpen:open})),this.preProps.open=t})),placement:function(t){t!==this.preProps.placement&&(this.contentDom=null),this.preProps.placement=t},level:function(t){this.preProps.level!==t&&this.getParentAndLevelDom(this.$props),this.preProps.level=t}},updated:function(){var t=this;o((function(){!t.sFirstEnter&&t.container&&(t.$forceUpdate(),t.sFirstEnter=!0)}))},beforeUnmount:function(){delete ft[this.drawerId],delete this.isOpenChange,this.container&&(this.sOpen&&this.setLevelDomTransform(!1,!0),document.body.style.overflow=""),this.sFirstEnter=!1,clearTimeout(this.timeout)},methods:{onKeyDown:function(t){t.keyCode===r.ESC&&(t.stopPropagation(),this.__emit("close",t))},onMaskTouchEnd:function(t){this.__emit("close",t),this.onTouchEnd(t,!0)},onIconTouchEnd:function(t){this.__emit("handleClick",t),this.onTouchEnd(t)},onTouchEnd:function(t,e){if(void 0===this.open){var n=e||this.sOpen;this.isOpenChange=!0,this.setState({sOpen:!n})}},onWrapperTransitionEnd:function(t){if(t.target===this.contentWrapper&&t.propertyName.match(/transform$/)){var e=this.getOpen();this.dom.style.transition="",!e&&this.getCurrentDrawerSome()&&(document.body.style.overflowX="",this.maskDom&&(this.maskDom.style.left="",this.maskDom.style.width="")),this.afterVisibleChange&&this.afterVisibleChange(!!e)}},getDefault:function(t){this.getParentAndLevelDom(t),(t.getContainer||t.parent)&&(this.container=this.defaultGetContainer())},getCurrentDrawerSome:function(){return!Object.keys(ft).some((function(t){return ft[t]}))},getSelfContainer:function(){return this.container},getParentAndLevelDom:function(t){var e=this;if(!mt){var n,o=t.level,r=t.getContainer;if(this.levelDom=[],r){if("string"==typeof r){var s=document.querySelectorAll(r)[0];this.parent=s}"function"==typeof r&&(this.parent=r()),"object"===ct(r)&&r instanceof window.HTMLElement&&(this.parent=r)}if(!r&&this.container&&(this.parent=this.container.parentNode),"all"===o)Array.prototype.slice.call(this.parent.children).forEach((function(t){"SCRIPT"!==t.nodeName&&"STYLE"!==t.nodeName&&"LINK"!==t.nodeName&&t!==e.container&&e.levelDom.push(t)}));else o&&(n=o,Array.isArray(n)?n:[n]).forEach((function(t){document.querySelectorAll(t).forEach((function(t){e.levelDom.push(t)}))}))}},setLevelDomTransform:function(t,e,n,o){var r=this,i=this.$props,a=i.placement,l=i.levelMove,c=i.duration,u=i.ease,d=i.getContainer;if(!mt&&(this.levelDom.forEach((function(s){if(r.isOpenChange||e){s.style.transition="transform ".concat(c," ").concat(u),st(s,rt,r.trnasitionEnd);var i=t?o:0;if(l){var d=(m={target:s,open:t},y="function"==typeof(f=l)?f(m):f,Array.isArray(y)?2===y.length?y:[y[0],y[1]]:[y]);i=t?d[0]:d[1]||0}var h="number"==typeof i?"".concat(i,"px"):i,p="left"===a||"top"===a?h:"-".concat(h);s.style.transform=i?"".concat(n,"(").concat(p,")"):"",s.style.msTransform=i?"".concat(n,"(").concat(p,")"):""}var f,m,y})),"body"===d)){var h=["touchstart"],p=[document.body,this.maskDom,this.handlerdom,this.contentDom],f=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth?s(1):0,m="width ".concat(c," ").concat(u),y="transform ".concat(c," ").concat(u);if(t&&"hidden"!==document.body.style.overflow){if(document.body.style.overflow="hidden",f){switch(document.body.style.position="relative",document.body.style.width="calc(100% - ".concat(f,"px)"),this.dom.style.transition="none",a){case"right":this.dom.style.transform="translateX(-".concat(f,"px)"),this.dom.style.msTransform="translateX(-".concat(f,"px)");break;case"top":case"bottom":this.dom.style.width="calc(100% - ".concat(f,"px)"),this.dom.style.transform="translateZ(0)"}clearTimeout(this.timeout),this.timeout=setTimeout((function(){r.dom.style.transition="".concat(y,",").concat(m),r.dom.style.width="",r.dom.style.transform="",r.dom.style.msTransform=""}))}p.forEach((function(t,e){t&&st(t,h[e]||"touchmove",e?r.removeMoveHandler:r.removeStartHandler,r.passive)}))}else if(this.getCurrentDrawerSome()){if(document.body.style.overflow="",(this.isOpenChange||e)&&f){var b;switch(document.body.style.position="",document.body.style.width="",ot&&(document.body.style.overflowX="hidden"),this.dom.style.transition="none",a){case"right":this.dom.style.transform="translateX(".concat(f,"px)"),this.dom.style.msTransform="translateX(".concat(f,"px)"),this.dom.style.width="100%",m="width 0s ".concat(u," ").concat(c),this.maskDom&&(this.maskDom.style.left="-".concat(f,"px"),this.maskDom.style.width="calc(100% + ".concat(f,"px)"));break;case"top":case"bottom":this.dom.style.width="calc(100% + ".concat(f,"px)"),this.dom.style.height="100%",this.dom.style.transform="translateZ(0)",b="height 0s ".concat(u," ").concat(c)}clearTimeout(this.timeout),this.timeout=setTimeout((function(){r.dom.style.transition="".concat(y,",").concat(b?"".concat(b,","):"").concat(m),r.dom.style.transform="",r.dom.style.msTransform="",r.dom.style.width="",r.dom.style.height=""}))}p.forEach((function(t,e){t&&it(t,h[e]||"touchmove",e?r.removeMoveHandler:r.removeStartHandler,r.passive)}))}}var g=this.$attrs.onChange;g&&this.isOpenChange&&this.sFirstEnter&&(g(t),this.isOpenChange=!1)},getChildToRender:function(t){var e,n,o=this,r=this.$props,s=r.prefixCls,d=r.placement,h=r.handler,p=r.showMask,f=r.maskStyle,m=r.width,y=r.height,b=r.wrapStyle,g=r.keyboard,v=r.maskClosable,w=this.$attrs,O=w.class,D=w.style,C=lt(w,["class","style"]),T=i(this),E=a(s,(ht(e={},"".concat(s,"-").concat(d),!0),ht(e,"".concat(s,"-open"),t),ht(e,"no-mask",!p),ht(e,O,O),e)),S=this.isOpenChange,P="left"===d||"right"===d,k="translate".concat(P?"X":"Y"),j="left"===d||"top"===d?"-100%":"100%",L=t?"":"".concat(k,"(").concat(j,")");if(void 0===S||S){var x=this.contentDom?this.contentDom.getBoundingClientRect()[P?"width":"height"]:0,A=(P?m:y)||x;this.setLevelDomTransform(t,!1,k,A)}if(!1!==h){var B=l("div",{class:"drawer-handle",onClick:function(){}},[l("i",{class:"drawer-handle-icon"},null)]),M=this.handler||B,F=M.props&&M.props.onClick;n=c(M,{onClick:function(t){F&&F(),o.onIconTouchEnd(t)},ref:function(t){o.handlerdom=t}})}var I=dt(dt({},C),{},{class:E,onTransitionend:this.onWrapperTransitionEnd,onKeydown:t&&g?this.onKeyDown:pt,style:dt(dt({},b),D)});return l("div",u({ref:function(t){o.dom=t}},I,{tabindex:-1}),[p&&l("div",{key:t,class:"".concat(s,"-mask"),onClick:v?this.onMaskTouchEnd:pt,style:f,ref:function(t){o.maskDom=t}},null),l("div",{class:"".concat(s,"-content-wrapper"),style:{transform:L,msTransform:L,width:at(m)?"".concat(m,"px"):m,height:at(y)?"".concat(y,"px"):y},ref:function(t){o.contentWrapper=t}},[l("div",{class:"".concat(s,"-content"),ref:function(t){o.contentDom=t},onTouchstart:t?this.removeStartHandler:pt,onTouchmove:t?this.removeMoveHandler:pt},[T]),n])])},getOpen:function(){return void 0!==this.open?this.open:this.sOpen},getTouchParentScroll:function(t,e,n,o){if(!e||e===document)return!1;if(e===t.parentNode)return!0;var r=Math.max(Math.abs(n),Math.abs(o))===Math.abs(o),s=Math.max(Math.abs(n),Math.abs(o))===Math.abs(n),i=e.scrollHeight-e.clientHeight,a=e.scrollWidth-e.clientWidth,l=e.scrollTop,c=e.scrollLeft;e.scrollTo&&e.scrollTo(e.scrollLeft+1,e.scrollTop+1);var u=e.scrollTop,d=e.scrollLeft;return e.scrollTo&&e.scrollTo(e.scrollLeft-1,e.scrollTop-1),!((!r||i&&u-l&&(!i||!(e.scrollTop>=i&&o<0||e.scrollTop<=0&&o>0)))&&(!s||a&&d-c&&(!a||!(e.scrollLeft>=a&&n<0||e.scrollLeft<=0&&n>0))))&&this.getTouchParentScroll(t,e.parentNode,n,o)},removeStartHandler:function(t){t.touches.length>1||(this.startPos={x:t.touches[0].clientX,y:t.touches[0].clientY})},removeMoveHandler:function(t){if(!(t.changedTouches.length>1)){var e=t.currentTarget,n=t.changedTouches[0].clientX-this.startPos.x,o=t.changedTouches[0].clientY-this.startPos.y;(e===this.maskDom||e===this.handlerdom||e===this.contentDom&&this.getTouchParentScroll(e,t.target,n,o))&&t.preventDefault()}},trnasitionEnd:function(t){it(t.target,rt,this.trnasitionEnd),t.target.style.transition=""},defaultGetContainer:function(){if(mt)return null;var t=document.createElement("div");return this.parent.appendChild(t),this.wrapperClassName&&(t.className=this.wrapperClassName),t}},render:function(){var t=this,e=this.$props,n=e.getContainer,o=e.wrapperClassName,r=e.handler,s=e.forceRender,i=this.getOpen(),a=null;ft[this.drawerId]=i?this.container:i;var c=this.getChildToRender(!!this.sFirstEnter&&i);return n?this.container&&(i||this.sFirstEnter)?((!!r||s||i||this.dom)&&(a=l(d,{to:this.getSelfContainer()},{default:function(){return[c]}})),a):null:l("div",{class:o,ref:function(e){t.container=e}},[c])}};function bt(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},s=Object.keys(t);for(o=0;o<s.length;o++)n=s[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(o=0;o<s.length;o++)n=s[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){wt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ot,Dt,Ct,Tt,Et={name:"ADrawer",inheritAttrs:!1,props:{closable:t.bool.def(!0),destroyOnClose:t.bool,getContainer:t.any,maskClosable:t.bool.def(!0),mask:t.bool.def(!0),maskStyle:t.object,wrapStyle:t.object,bodyStyle:t.object,headerStyle:t.object,drawerStyle:t.object,title:t.any,visible:t.bool,width:t.oneOfType([t.string,t.number]).def(256),height:t.oneOfType([t.string,t.number]).def(256),zIndex:t.number,prefixCls:t.string,placement:t.oneOf(["top","right","bottom","left"]).def("right"),level:t.any.def(null),wrapClassName:t.string,handle:t.any,afterVisibleChange:t.func,keyboard:t.bool.def(!0),onClose:t.func,"onUpdate:visible":t.func},mixins:[e],data:function(){return this.destroyClose=!1,this.preVisible=this.$props.visible,{_push:!1}},setup:function(){return{configProvider:h("configProvider",p)}},beforeCreate:function(){var t=h("parentDrawer",null);f("parentDrawer",this),this.parentDrawer=t},mounted:function(){this.visible&&this.parentDrawer&&this.parentDrawer.push()},updated:function(){var t=this;o((function(){t.preVisible!==t.visible&&t.parentDrawer&&(t.visible?t.parentDrawer.push():t.parentDrawer.pull()),t.preVisible=t.visible}))},beforeUnmount:function(){this.parentDrawer&&this.parentDrawer.pull()},methods:{close:function(t){this.$emit("update:visible",!1),this.$emit("close",t)},push:function(){this.setState({_push:!0})},pull:function(){this.setState({_push:!1})},onDestroyTransitionEnd:function(){this.getDestroyOnClose()&&(this.visible||(this.destroyClose=!0,this.$forceUpdate()))},getDestroyOnClose:function(){return this.destroyOnClose&&!this.visible},getPushTransform:function(t){return"left"===t||"right"===t?"translateX(".concat("left"===t?180:-180,"px)"):"top"===t||"bottom"===t?"translateY(".concat("top"===t?180:-180,"px)"):void 0},getRcDrawerStyle:function(){var t=this.$props,e=t.zIndex,n=t.placement,o=t.wrapStyle;return vt({zIndex:e,transform:this.$data._push?this.getPushTransform(n):void 0},o)},renderHeader:function(t){var e=this.$props,n=e.closable,o=e.headerStyle,r=m(this,"title");if(!r&&!n)return null;var s="".concat(t,r?"-header":"-header-no-title");return l("div",{class:s,style:o},[r&&l("div",{class:"".concat(t,"-title")},[r]),n?this.renderCloseIcon(t):null])},renderCloseIcon:function(t){return this.closable&&l("button",{key:"closer",onClick:this.close,"aria-label":"Close",class:"".concat(t,"-close")},[l(y,null,null)])},renderBody:function(t){if(this.destroyClose&&!this.visible)return null;this.destroyClose=!1;var e=this.$props,n=e.bodyStyle,o=e.drawerStyle,r={};return this.getDestroyOnClose()&&(r.opacity=0,r.transition="opacity .3s"),l("div",{class:"".concat(t,"-wrapper-body"),style:vt(vt({},r),o),onTransitionend:this.onDestroyTransitionEnd},[this.renderHeader(t),l("div",{key:"body",class:"".concat(t,"-body"),style:n},[this.$slots.default&&this.$slots.default()])])}},render:function(){var t,e=this,n=b(this),o=n.prefixCls,r=n.width,s=n.height,i=n.visible,c=n.placement,u=n.wrapClassName,d=n.mask,h=bt(n,["prefixCls","width","height","visible","placement","wrapClassName","mask"]),p=d?"":"no-mask",f={};"left"===c||"right"===c?f.width="number"==typeof r?"".concat(r,"px"):r:f.height="number"==typeof s?"".concat(s,"px"):s;var y=m(this,"handle")||!1,v=(0,this.configProvider.getPrefixCls)("drawer",o),w=this.$attrs.class,O=vt(vt(vt(vt({},this.$attrs),g(h,["closable","destroyOnClose","drawerStyle","headerStyle","bodyStyle","title","push","visible","getPopupContainer","rootPrefixCls","getPrefixCls","renderEmpty","csp","pageHeader","autoInsertSpaceInButton"])),{},{onClose:this.close,handler:y},f),{},{prefixCls:v,open:i,showMask:d,placement:c,class:a((t={},wt(t,w,!!w),wt(t,u,!!u),wt(t,p,!!p),t)),wrapStyle:this.getRcDrawerStyle()});return l(yt,O,{default:function(){return[e.renderBody(v)]}})}};Et.install=function(t){t.component(Et.name,Et)},(Dt=Ot||(Ot={})).DEFAULT="default",Dt.SMALL="small",Dt.LARGE="large",(Tt=Ct||(Ct={}))[Tt.DEFAULT=48]="DEFAULT",Tt[Tt.SMALL=16]="SMALL",Tt[Tt.LARGE=64]="LARGE";const St=(()=>{const t=new Map;return t.set(Ot.DEFAULT,48),t.set(Ot.SMALL,16),t.set(Ot.LARGE,64),t})();var Pt=v({inheritAttrs:!1,name:"BasicLoading",props:{tip:{type:String,default:""},size:{type:String,default:Ot.DEFAULT,validator:t=>[Ot.DEFAULT,Ot.SMALL,Ot.LARGE].includes(t)}},setup:t=>({getLoadingIconSize:w((()=>{const{size:e}=t;return St.get(e)}))})});const kt=k("data-v-8841e2ba");O("data-v-8841e2ba");const jt={class:"basic-loading"},Lt={key:0,class:"mt-4"};D();const xt=kt((function(t,e,n,o,r,s){return C(),T("section",jt,[l("img",{src:E,alt:"",height:t.getLoadingIconSize,width:t.getLoadingIconSize},null,8,["height","width"]),t.tip?(C(),T("span",Lt,S(t.tip),1)):P("",!0)])}));Pt.render=xt,Pt.__scopeId="data-v-8841e2ba";var At=v({name:"FullLoading",components:{BasicLoading:Pt},props:{tip:{type:String,default:""},absolute:Boolean},setup:t=>({getStyle:w((()=>t.absolute?{position:"absolute",left:0,top:0,"z-index":1}:{})),SizeEnum:Ot})});const Bt=k("data-v-497cd1e6")((function(t,e,n,o,r,s){const i=j("BasicLoading");return C(),T("section",{class:"full-loading",style:t.getStyle},[l(i,{tip:t.tip,size:t.SizeEnum.DEFAULT},null,8,["tip","size"])],4)}));var Mt,Ft;At.render=Bt,At.__scopeId="data-v-497cd1e6",(Ft=Mt||(Mt={}))[Ft.DETAIL=0]="DETAIL",Ft[Ft.DEFAULT=1]="DEFAULT";const It={confirmLoading:Boolean,showCancelBtn:{type:Boolean,default:!0},cancelButtonProps:Object,cancelText:{type:String,default:"关闭"},showOkBtn:{type:Boolean,default:!0},okButtonProps:Object,okText:{type:String,default:"保存"},okType:{type:String,default:"primary"},showFooter:{type:Boolean,default:!1},footerHeight:{type:[String,Number],default:60}},Nt={drawerType:{type:Number,default:Mt.DEFAULT},title:{type:String,default:""},showDetailBack:{type:Boolean,default:!0},visible:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},getContainer:{type:[Object,String]},scrollOptions:{type:Object,default:null},closeFunc:{type:[Function,Object],default:null},triggerWindowResize:{type:Boolean,default:!1},destroyOnClose:Boolean,...It},$t="basic-drawer";var _t=v({props:Nt,emits:["visible-change","ok","close","register"],setup(t,{slots:e,emit:n,attrs:r}){const s=L(null),i=L(!1),a=L(null),l=w((()=>H(R(t),B(a)))),c=w((()=>{const e={placement:"right",...r,...t,...B(a),visible:B(i)};return e.title=void 0,e.drawerType===Mt.DETAIL&&(e.width||(e.width="100%"),e.wrapClassName=e.wrapClassName?e.wrapClassName+" basic-drawer__detail":"basic-drawer__detail",e.getContainer||(e.getContainer=".default-layout__main")),e}));async function u(t){const{closeFunc:e}=B(c);if(n("close",t),e&&_(e)){await e()&&(i.value=!1)}else i.value=!1}x((()=>{i.value=t.visible})),A((()=>i.value),(t=>{o((()=>{n("visible-change",t)}))}),{immediate:!1});const d=w((()=>{const{footerHeight:t,showFooter:e}=B(c);return e&&t?z(t)?t+"px":t.replace("px","")+"px":"0px"}));const h={setDrawerProps:function(t){a.value=H(B(a)||{},t),Reflect.has(t,"visible")&&(i.value=!!t.visible)}},p=q();return n("register",h,p),()=>{const o=B(d);return M(Et,{class:$t,onClose:u,...{...r,...B(c)}},{title:()=>function(){const{title:n}=B(l);return t.drawerType===Mt.DETAIL?K(e,"title")||M(F,{type:"flex",align:"middle",class:"basic-drawer__detail-header"},(()=>M(I,null,t.showDetailBack&&M(N,{class:"mx-2"},(()=>M($,{size:"small",type:"link",onClick:u},(()=>M(Y,null))))),n&&M(N,{style:"flex:1",class:["basic-drawer__detail-title","ellipsis","px-2"]},(()=>n)),K(e,"titleToolbar")))):M(G,null,(()=>n||K(e,"title")))}(),default:()=>M(I,null,M(At,{absolute:!0,class:[B(c).loading?"":"hidden"],tip:"加载中..."}),M("div",{ref:s,...r,"data-id":"123",style:{height:`calc(100% - ${o})`,overflow:"auto",padding:"16px",paddingBottom:"30px"}},K(e,"default")),function(){const{showCancelBtn:t,cancelButtonProps:o,cancelText:r,showOkBtn:s,okType:i,okText:a,okButtonProps:l,confirmLoading:d,showFooter:h}=B(c);return K(e,"footer")||h&&M("div",{class:"basic-drawer__footer"},K(e,"insertFooter"),t&&M($,{...o,onClick:u,class:"mr-2"},(()=>r)),K(e,"centerFooter"),s&&M($,{type:i,...l,loading:d,onClick:()=>{n("ok")}},(()=>a)),K(e,"appendFooter"))}())})}}});const Ht=U({});function Rt(){if(!W())throw new Error("Please put useDrawer function in the setup function!");const t=L(null),e=L(!1),n=L("");const o=()=>{const e=B(t);if(!e)throw new Error("instance is undefined!");return e};return[function(o,r){n.value=r,X((()=>{t.value=null,e.value=null,Ht[B(n)]=null})),B(e)&&V()&&o===B(t)||(t.value=o,e.value=!0)},{setDrawerProps:t=>{o().setDrawerProps(t)},openDrawer:(t=!0)=>{o().setDrawerProps({visible:t})},transferDrawerData(t){Ht[B(n)]=t}}]}const zt=()=>{const t=L(null),e=W(),n=L("");if(!e)throw new Error("instance is undefined!");const o=()=>{const e=B(t);if(!e)throw new Error("instance is undefined!");return e};return[(o,r)=>{n.value=r,t.value=o,e.emit("register",o)},{receiveDrawerDataRef:w((()=>Ht[B(n)])),changeLoading:(t=!0)=>{o().setDrawerProps({loading:t})},changeOkLoading:(t=!0)=>{o().setDrawerProps({confirmLoading:t})},closeDrawer:()=>{o().setDrawerProps({visible:!1})},setDrawerProps:t=>{o().setDrawerProps(t)}}]};export{_t as B,Mt as D,zt as a,At as s,Rt as u};
