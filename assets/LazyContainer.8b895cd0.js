import{V as e,a6 as t,a1 as n,k as o,P as r,Q as s,ac as a,bV as i,cg as l,d as c,r as d,b as u,c as p,ch as f,u as y,y as g,ay as m,aI as h,_ as v,ab as b,x as w,ci as _,C as x,i as O,o as z,j as C,H as S,I as T,cj as B,a3 as $,w as j,m as P,ad as k,n as I,l as A,z as E,G as H,a7 as W,a8 as L,a$ as M,aC as R}from"./index.12c9c6d9.js";import{c as N,s as D}from"./BasicTitle.a1ecdb29.js";import{o as q,a as X,c as Y,r as U}from"./domUtils.0cbdb707.js";import{g as V,a as F}from"./tsxHelper.629ff8d8.js";import{u as G}from"./useRaf.e461562f.js";import{t as K}from"./triggerWindowResizeEvent.3d263439.js";function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J={prefixCls:e.string,size:e.oneOfType([e.oneOf(["large","small","default"]),e.number]),shape:e.oneOf(["circle","square"])},Z=e.shape(J).loose,ee={props:t(J,{size:"large"}),render:function(){var e,t,r=this.$props,s=r.prefixCls,a=r.size,i=r.shape,l=n((Q(e={},"".concat(s,"-lg"),"large"===a),Q(e,"".concat(s,"-sm"),"small"===a),e)),c=n((Q(t={},"".concat(s,"-circle"),"circle"===i),Q(t,"".concat(s,"-square"),"square"===i),t)),d="number"==typeof a?{width:"".concat(a,"px"),height:"".concat(a,"px"),lineHeight:"".concat(a,"px")}:{};return o("span",{class:n(s,l,c),style:d},null)}},te={prefixCls:e.string,width:e.oneOfType([e.number,e.string])},ne=e.shape(te),oe={props:te,render:function(){var e=this.$props,t=e.prefixCls,n=e.width,r="number"==typeof n?"".concat(n,"px"):n;return o("h3",{class:t,style:{width:r}},null)}};function re(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var ae=e.oneOfType([e.number,e.string]),ie={prefixCls:e.string,width:e.oneOfType([ae,e.arrayOf(ae)]),rows:e.number},le=e.shape(ie),ce={props:ie,methods:{getWidth:function(e){var t=this.width,n=this.rows,o=void 0===n?2:n;return Array.isArray(t)?t[e]:o-1===e?t:void 0}},render:function(){var e=this,t=this.$props,n=t.prefixCls,r=t.rows,s=re(Array(r)).map((function(t,n){var r=e.getWidth(n);return o("li",{key:n,style:{width:"number"==typeof r?"".concat(r,"px"):r}},null)}));return o("ul",{class:n},[s])}};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e){return e&&"object"===fe(e)?e:{}}var ge={name:"ASkeleton",props:t({active:e.bool,loading:e.bool,prefixCls:e.string,children:e.any,avatar:e.oneOfType([e.string,Z,e.bool]),title:e.oneOfType([e.bool,e.string,ne]),paragraph:e.oneOfType([e.bool,e.string,le])},{avatar:!1,title:!0,paragraph:!0}),setup:function(){return{configProvider:r("configProvider",s)}},render:function(){var e=this.$props,t=e.prefixCls,r=e.loading,s=e.avatar,i=e.title,l=e.paragraph,c=e.active,d=(0,this.configProvider.getPrefixCls)("skeleton",t);if(r||!a(this,"loading")){var u,p,f,y=!!s||""===s,g=!!i,m=!!l;if(y){var h=ue(ue({prefixCls:"".concat(d,"-avatar")},function(e,t){return e&&!t?{shape:"square"}:{shape:"circle"}}(g,m)),ye(s));p=o("div",{class:"".concat(d,"-header")},[o(ee,h,null)])}if(g||m){var v,b;if(g){var w=ue(ue({prefixCls:"".concat(d,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(y,m)),ye(i));v=o(oe,w,null)}if(m){var _=ue(ue({prefixCls:"".concat(d,"-paragraph")},function(e,t){var n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(y,g)),ye(l));b=o(ce,_,null)}f=o("div",{class:"".concat(d,"-content")},[v,b])}var x=n(d,(pe(u={},"".concat(d,"-with-avatar"),y),pe(u,"".concat(d,"-active"),c),u));return o("div",{class:x},[p,f])}return this.$slots.default&&this.$slots.default()},install:function(e){e.component(ge.name,ge)}};const me="undefined"==typeof window,he=function(e){for(const t of e){const e=t.target.__resizeListeners__||[];e.length&&e.forEach((e=>{e()}))}},ve=function(e,t){me||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new i(he),e.__ro__.observe(e)),e.__resizeListeners__.push(t))},be=function(e,t){e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||e.__ro__.disconnect())};let we;const _e={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function xe({move:e,size:t,bar:n}){const o={},r=`translate${n.axis}(${e}%)`;return o[n.size]=t,o.transform=r,o.msTransform=r,o.webkitTransform=r,o}var Oe=c({name:"Bar",props:{vertical:{type:Boolean,default:!1},size:String,move:Number},setup(e){const t=d(null),n=d(null),o=u({}),s=p((()=>_e[e.vertical?"vertical":"horizontal"])),a=r("scroll-bar-wrap");function i(e){const{ctrlKey:t,button:n,currentTarget:r}=e;if(t||2===n||!r)return;!function(e){e.stopImmediatePropagation(),o.cursorDown=!0,X(document,"mousemove",c),X(document,"mouseup",m),document.onselectstart=()=>!1}(e);const a=y(s);o[a.axis]=r[a.offset]-(e[a.client]-r.getBoundingClientRect()[a.direction])}function l(e){const o=y(s),r=Math.abs(e.target.getBoundingClientRect()[o.direction]-e[o.client]),i=y(t),l=y(a),c=y(n);if(!i||!c||!l)return;const d=100*(r-i[o.offset]/2)/c[o.offset];l[o.scroll]=d*l[o.scrollSize]/100}function c(e){if(!1===o.cursorDown)return;const r=y(s),i=o[r.axis],l=y(n),c=y(a),d=y(t);if(!(i&&l&&d&&c))return;const u=100*(-1*(l.getBoundingClientRect()[r.direction]-e[r.client])-(d[r.offset]-i))/l[r.offset];c[r.scroll]=u*c[r.scrollSize]/100}function m(){const e=y(s);o.cursorDown=!1,o[e.axis]=0,q(document,"mousemove",c),document.onselectstart=null}return f((()=>{q(document,"mouseup",m)})),()=>{const o=y(s),{size:r,move:a}=e;return g("div",{class:["scrollbar__bar","is-"+o.key],onMousedown:l,ref:n},g("div",{ref:t,class:"scrollbar__thumb",onMousedown:i,style:xe({size:r,move:a,bar:o})}))}}}),ze=c({name:"Scrollbar",props:{native:Boolean,wrapStyle:{type:Object},wrapClass:{type:String,required:!1},viewClass:{type:String},viewStyle:{type:Object},noresize:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=d(null),o=d(null);b("scroll-bar-wrap",o);const r=u({sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0});function s(){const e=y(o);if(!e)return;const{scrollTop:t,scrollLeft:n,clientHeight:s,clientWidth:a}=e;r.moveY=100*t/s,r.moveX=100*n/a}function a(){const e=y(o);if(!e)return;const{scrollHeight:t,scrollWidth:n,clientHeight:s,clientWidth:a}=e,i=100*s/t,l=100*a/n;r.sizeHeight=i<100?i+"%":"",r.sizeWidth=l<100?l+"%":""}return m((()=>{w((e=>{e.wrap=y(o)}));const{native:t,noresize:r}=e,s=y(n),i=y(o);!t&&s&&i&&(h(a),r||(ve(s,a),ve(i,a)))})),f((()=>{const{native:t,noresize:r}=e,s=y(n),i=y(o);!t&&s&&i&&(r||(be(s,a),be(i,a)))})),()=>{const{native:a,tag:i,viewClass:c,viewStyle:d,wrapClass:u,wrapStyle:p}=e;let f=p;const y=function(){if(!l)return 0;if(void 0!==we)return we;const e=document.createElement("div");e.className="scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",e.appendChild(n);const o=n.offsetWidth,r=e.parentNode;return r&&r.removeChild(e),we=t-o,we}();if(y){const e=`-${y}px`,t=`margin-bottom: ${e}; margin-right: ${e};`;Array.isArray(p)?(f=function(e){const t={};for(let r=0;r<e.length;r++)e[r]&&(n=t,o=e[r],Object.assign(n,o));var n,o;return t}(p),f.marginRight=f.marginBottom=e):v(p)?f+=t:f=t}const m=g(i,{class:["scrollbar__view",c],style:d,ref:n},V(t)),h=g("div",{ref:o,style:f,onScroll:s,class:[u,"scrollbar__wrap",y?"":"scrollbar__wrap--hidden-default"]},[m]);let b=[];const{moveX:w,sizeWidth:_,moveY:x,sizeHeight:O}=r;return b=a?[g("div",{ref:"wrap",class:[u,"scrollbar__wrap"],style:f},[m])]:[h,g(Oe,{move:w,size:_}),g(Oe,{vertical:!0,move:x,size:O})],g("div",{class:"scrollbar"},b)}}});function Ce({el:e,to:t,duration:n=500,callback:o}){const r=d(!1),s=(e=>e.scrollTop)(e),a=t-s;let i=0;n=_(n)?500:n;const{requestAnimationFrame:l}=G(),c=function(){if(!y(r))return;i+=20;const t=(d=i,u=s,p=a,(d/=n/2)<1?p/2*d*d+u:-p/2*(--d*(d-2)-1)+u);var d,u,p;((e,t)=>{e.scrollTop=t})(e,t),i<n&&y(r)?l(c):o&&x(o)&&o()};return{start:()=>{r.value=!0,c()},stop:()=>{r.value=!1}}}var Se=c({name:"ScrollContainer",components:{Scrollbar:ze},setup(){const e=d(null);return{scrollbarRef:e,scrollTo:function(t,n=500){const o=y(e);o&&h((()=>{const{start:e}=Ce({el:y(o.$.wrap),to:t,duration:n});e()}))},scrollBottom:function(){const t=y(e);t&&h((()=>{const e=t.$.wrap.scrollHeight,{start:n}=Ce({el:y(t.$.wrap),to:e});n()}))},getScrollWrap:function(){const t=y(e);return t?t.$.wrap:null}}}});Se.render=function(e,t,n,o,r,s){const a=O("Scrollbar");return z(),C(a,{ref:"scrollbarRef",wrapClass:"scrollbar__wrap",viewClass:"scrollbar__view",class:"scroll-container"},{default:S((()=>[T(e.$slots,"default")])),_:3},512)};var Te=c({name:"CollapseTransition",setup:()=>({on:{beforeEnter(e){Y(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter(e){U(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(Y(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){U(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}}})});const Be=j("data-v-6f8c3672"),$e=Be((function(e,t,n,o,r,s){return z(),C($,B(e.on),{default:Be((()=>[T(e.$slots,"default")])),_:3},16)}));Te.render=$e,Te.__scopeId="data-v-6f8c3672";var je=c({name:"CollapseTransition",setup:(e,{slots:t})=>()=>g(Te,null,(()=>V(t)))}),Pe=c({inheritAttrs:!1,components:{BasicArrow:N,BasicTitle:D},setup:(e,{emit:t})=>({handleExpand:function(){t("expand")}})});const ke={class:"collapse-container__header"},Ie={class:"collapse-container__action"};Pe.render=function(e,t,n,r,s,a){const i=O("BasicTitle"),l=O("BasicArrow");return z(),C("div",ke,[o(i,{helpMessage:e.$attrs.helpMessage},{default:S((()=>[e.$attrs.title?(z(),C(k,{key:0},[I(A(e.$attrs.title),1)],64)):T(e.$slots,"title",{key:1})])),_:1},8,["helpMessage"]),o("div",Ie,[T(e.$slots,"action"),e.$attrs.canExpan?(z(),C(l,{key:0,expand:e.$attrs.show,onClick:e.handleExpand},null,8,["expand","onClick"])):P("",!0)])])};var Ae=c({components:{Skeleton:ge,CollapseHeader:Pe,CollapseTransition:je},name:"CollapseContainer",props:{title:{type:String,default:""},canExpan:{type:Boolean,default:!0},helpMessage:{type:[Array,String],default:""},triggerWindowResize:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},lazyTime:{type:Number,default:3e3}},setup(e){const t=d(!0);return{show:t,handleExpand:function(){const n=!y(t);t.value=n,e.triggerWindowResize&&E(K,200)}}}});const Ee={class:"collapse-container p-2"},He={key:1,class:"collapse-container__body"};Ae.render=function(e,t,n,r,s,a){const i=O("CollapseHeader"),l=O("Skeleton"),c=O("CollapseTransition");return z(),C("div",Ee,[o(i,H(e.$props,{show:e.show,onExpand:e.handleExpand}),null,16,["show","onExpand"]),o(c,{enable:e.canExpan},{default:S((()=>[e.loading?(z(),C(l,{key:0})):W((z(),C("div",He,[T(e.$slots,"default")],512)),[[L,e.show]])])),_:1},8,["enable"])])},c({name:"LazyContainer",emits:["before-init","init"],props:{timeout:{type:Number,default:8e3},viewport:{type:"undefined"!=typeof window?window.HTMLElement:Object,default:()=>null},threshold:{type:String,default:"0px"},direction:{type:String,default:"vertical"},tag:{type:String,default:"div"},maxWaitingTime:{type:Number,default:80},autoDestory:{type:Boolean,default:!1},transitionName:{type:String,default:"lazy-container"}},setup(e,{attrs:t,emit:n,slots:o}){const r=d(null),s=u({isInit:!1,loading:!1,intersectionObserverInstance:null});function a(){n("before-init"),s.loading=!0,function(t){E((()=>{s.isInit||t()}),e.maxWaitingTime||80);const{requestAnimationFrame:n}=G()}((()=>{s.isInit=!0,n("init")}))}function i(e){if((e[0].isIntersecting||e[0].intersectionRatio)&&(a(),s.intersectionObserverInstance)){const e=y(r);s.intersectionObserverInstance.unobserve(e.$el)}}return function(){const{timeout:t}=e;t&&E((()=>{a()}),t)}(),m((()=>{!function(){const{timeout:t,direction:n,threshold:o,viewport:l}=e;if(t)return;let c;switch(n){case"vertical":c=o+" 0px";break;case"horizontal":c="0px "+o}try{s.intersectionObserverInstance=new window.IntersectionObserver(i,{rootMargin:c,root:l,threshold:[0,Number.MIN_VALUE,.01]});const e=y(r);s.intersectionObserverInstance.observe(e.$el)}catch(e){a()}}()})),M((()=>{if(s.intersectionObserverInstance){const e=y(r);s.intersectionObserverInstance.unobserve(e.$el)}})),()=>{const{tag:n,transitionName:a}=e;return g(R,{ref:r,name:a,tag:n,...F(t)},(()=>function(){const{isInit:e,loading:t}=s;return e?g("div",{key:"component"},V(o,"default",{loading:t})):o.skeleton?g("div",{key:"skeleton"},V(o,"skeleton")||g(ge,null)):null}()))}}});export{ve as a,Ae as b,be as r,Se as s};
