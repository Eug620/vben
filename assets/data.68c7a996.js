import{L as e,M as t,N as n,O as r,a6 as o,V as a,P as c,Q as i,k as l,bz as s,a4 as u,aa as d,R as f,a1 as p,a9 as y,G as h,$ as b,bC as v,a5 as O,d as m,b as g,r as j,c as k,s as K,x as P,u as w,y as x,C as _,b3 as S,d0 as M}from"./index.12c9c6d9.js";import{a as D}from"./openAnimation.66a3bb9f.js";import{T as A,a as E,g as C,d as N,o as $,D as I}from"./DownOutlined.4d5bd59b.js";import{C as T}from"./CaretDownFilled.801e78c8.js";import{e as H}from"./tsxHelper.629ff8d8.js";import{u as V}from"./useContextMenu.90ddb538.js";var L=e((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"}})),z=e((function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n),a=i(L),c=i(t);function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({},e,t.attrs);return o.createVNode(c.default,o.mergeProps(n,{icon:a.default}),null)};u.displayName="FileOutlined",u.inheritAttrs=!1;var d=u;r.default=d})),F=r(e((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=z)&&n.__esModule?n:{default:n};var o=r.default||r;t.default=o,e.exports=o}))),U=e((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"}})),B=e((function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n),a=i(U),c=i(t);function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({},e,t.attrs);return o.createVNode(c.default,o.mergeProps(n,{icon:a.default}),null)};u.displayName="MinusSquareOutlined",u.inheritAttrs=!1;var d=u;r.default=d})),W=r(e((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=B)&&n.__esModule?n:{default:n};var o=r.default||r;t.default=o,e.exports=o}))),R=e((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"}})),q=e((function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n),a=i(R),c=i(t);function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({},e,t.attrs);return o.createVNode(c.default,o.mergeProps(n,{icon:a.default}),null)};u.displayName="PlusSquareOutlined",u.inheritAttrs=!1;var d=u;r.default=d})),G=r(e((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=q)&&n.__esModule?n:{default:n};var o=r.default||r;t.default=o,e.exports=o})));function Q(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=A.TreeNode;function ee(){return{showLine:a.bool,multiple:a.bool,autoExpandParent:a.bool,checkStrictly:a.bool,checkable:a.bool,disabled:a.bool,defaultExpandAll:a.bool,defaultExpandParent:a.bool,defaultExpandedKeys:a.array,expandedKeys:a.array,checkedKeys:a.oneOfType([a.array,a.shape({checked:a.array,halfChecked:a.array}).loose]),defaultCheckedKeys:a.array,selectedKeys:a.array,defaultSelectedKeys:a.array,selectable:a.bool,filterAntTreeNode:a.func,loadData:a.func,loadedKeys:a.array,draggable:a.bool,showIcon:a.bool,icon:a.func,switcherIcon:a.any,prefixCls:a.string,filterTreeNode:a.func,openAnimation:a.any,treeData:a.array,replaceFields:a.object,blockNode:a.bool,onExpand:a.func,onCheck:a.func,onSelect:a.func,onClick:a.func,onDoubleclick:a.func,onDblclick:a.func,"onUpdate:selectedKeys":a.func,"onUpdate:checkedKeys":a.func,"onUpdate:expandedKeys":a.func}}var te={name:"ATree",inheritAttrs:!1,props:o(ee(),{checkable:!1,showIcon:!1,openAnimation:X(X({},D),{},{appear:null}),blockNode:!1}),setup:function(){return{configProvider:c("configProvider",i)}},TreeNode:Z,methods:{renderSwitcherIcon:function(e,t,n){var r=n.isLeaf,o=n.loading,a=n.expanded,c=this.$props.showLine;if(o)return l(s,{class:"".concat(e,"-switcher-loading-icon")},null);if(r)return c?l(F,{class:"".concat(e,"-switcher-line-icon")},null):null;var i="".concat(e,"-switcher-icon");return t?u(t,{class:i}):c?l(a?W:G,{class:"".concat(e,"-switcher-line-icon")},null):l(T,{class:i},null)},updateTreeData:function(e){var t=this,n=this.$slots,r=X(X({},{children:"children",title:"title",key:"key"}),this.$props.replaceFields);return e.map((function(e){var o=e[r.key],a=e[r.children],c=e.slots,i=void 0===c?{}:c,l=e.scopedSlots,s=void 0===l?{}:l,u=e.class,d=e.style,f=Q(e,["slots","scopedSlots","class","style"]),p=X(X({},f),{},{icon:n[s.icon]||n[i.icon]||f.icon,switcherIcon:n[s.switcherIcon]||n[i.switcherIcon]||f.switcherIcon,title:n[s.title]||n[i.title]||f[r.title],dataRef:e,key:o,class:u,style:d});return a?X(X({},p),{},{children:t.updateTreeData(a)}):p}))},setTreeRef:function(e){this.tree=e},handleCheck:function(e,t){this.$emit("update:checkedKeys",e),this.$emit("check",e,t)},handleExpand:function(e,t){this.$emit("update:expandedKeys",e),this.$emit("expand",e,t)},handleSelect:function(e,t){this.$emit("update:selectedKeys",e),this.$emit("select",e,t)}},render:function(){var e,t=this,n=d(this),r=n.prefixCls,o=n.showIcon,a=n.treeNodes,c=n.blockNode,i=(0,this.configProvider.getPrefixCls)("tree",r),s=f(this,"switcherIcon"),u=n.checkable,b=n.treeData||a;b&&(b=this.updateTreeData(b));var v=this.$attrs,O=v.class,m=Q(v,["class"]),g=X(X(X({},n),{},{prefixCls:i,checkable:u?l("span",{class:"".concat(i,"-checkbox-inner")},null):u,children:y(this),switcherIcon:function(e){return t.renderSwitcherIcon(i,s,e)},ref:this.setTreeRef},m),{},{class:p(O,(e={},Y(e,"".concat(i,"-icon-hide"),!o),Y(e,"".concat(i,"-block-node"),c),e)),onCheck:this.handleCheck,onExpand:this.handleExpand,onSelect:this.handleSelect});return b&&(g.treeData=b),l(A,h(g,{__propsSymbol__:[]}),null)}},ne=e((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"}})),re=e((function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n),a=i(ne),c=i(t);function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({},e,t.attrs);return o.createVNode(c.default,o.mergeProps(n,{icon:a.default}),null)};u.displayName="FolderOpenOutlined",u.inheritAttrs=!1;var d=u;r.default=d})),oe=r(e((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=re)&&n.__esModule?n:{default:n};var o=r.default||r;t.default=o,e.exports=o}))),ae=e((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"}})),ce=e((function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n),a=i(ae),c=i(t);function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({},e,t.attrs);return o.createVNode(c.default,o.mergeProps(n,{icon:a.default}),null)};u.displayName="FolderOutlined",u.inheritAttrs=!1;var d=u;r.default=d})),ie=r(e((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=ce)&&n.__esModule?n:{default:n};var o=r.default||r;t.default=o,e.exports=o})));function le(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue="node",de="start",fe="end";function pe(e,t){(C(e)||[]).forEach((function(e){var n=e.key,r=y(e);!1!==t(n,e)&&pe(r,t)}))}function ye(e,t,n,r){var o=[],a=ue;if(n&&n===r)return[n];if(!n||!r)return[];return pe(e,(function(e){if(a===fe)return!1;if(function(e){return e===n||e===r}(e)){if(o.push(e),a===ue)a=de;else if(a===de)return a=fe,!1}else a===de&&o.push(e);return-1!==t.indexOf(e)})),o}function he(e,t){var n=le(t),r=[];return pe(e,(function(e,t){var o=n.indexOf(e);return-1!==o&&(r.push(t),n.splice(o,1)),!!n.length})),r}function be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=t(e||[]).forEach((function(e){n.push(e[a]),e[i]&&(n=[].concat(le(n),le(be(e[i],t))))})),o=r.key,a=void 0===o?"key":o,c=r.children,i=void 0===c?"children":c;return n}function ve(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Oe(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e){var t=e.isLeaf,n=e.expanded;return l(t?F:n?oe:ie,null,null)}var Pe={name:"ADirectoryTree",mixins:[b],inheritAttrs:!1,props:o(je(je({},ee()),{},{expandAction:a.oneOf([!1,"click","doubleclick","dblclick"])}),{showIcon:!0,expandAction:"click"}),setup:function(){return{configProvider:c("configProvider",i)}},data:function(){var e=d(this),t=e.defaultExpandAll,n=e.defaultExpandParent,r=e.expandedKeys,o=e.defaultExpandedKeys,a=y(this),c=E(a).keyEntities,i={};return i._selectedKeys=e.selectedKeys||e.defaultSelectedKeys||[],t?e.treeData?i._expandedKeys=be(e.treeData,e.replaceFields):i._expandedKeys=function(e){return le(E(e).keyEntities.keys())}(a):i._expandedKeys=n?N(r||o,c):r||o,this.onDebounceExpand=v(this.expandFolderNode,200,{leading:!0}),this.children=null,je({_selectedKeys:[],_expandedKeys:[]},i)},watch:{expandedKeys:function(e){this.setState({_expandedKeys:e})},selectedKeys:function(e){this.setState({_selectedKeys:e})}},methods:{handleExpand:function(e,t){this.setUncontrolledState({_expandedKeys:e}),this.$emit("update:expandedKeys",e),this.$emit("expand",e,t)},handleClick:function(e,t){"click"===this.$props.expandAction&&this.onDebounceExpand(e,t),this.$emit("click",e,t)},handleDoubleClick:function(e,t){var n=this.$props.expandAction;"dblclick"!==n&&"doubleclick"!==n||this.onDebounceExpand(e,t),this.$emit("doubleclick",e,t),this.$emit("dblclick",e,t)},hanldeSelect:function(e,t){var n,r=this.$props.multiple,o=this.children||[],a=this.$data._expandedKeys,c=void 0===a?[]:a,i=t.node,l=t.nativeEvent,s=i.eventKey,u=void 0===s?"":s,d={},f=je(je({},t),{},{selected:!0}),p=l.ctrlKey||l.metaKey,y=l.shiftKey;r&&p?(n=e,this.lastSelectedKey=u,this.cachedSelectedKeys=n,f.selectedNodes=he(o,n)):r&&y?(n=Array.from(new Set([].concat(Oe(this.cachedSelectedKeys||[]),Oe(ye(o,c,u,this.lastSelectedKey))))),f.selectedNodes=he(o,n)):(n=[u],this.lastSelectedKey=u,this.cachedSelectedKeys=n,f.selectedNodes=[t.node]),d._selectedKeys=n,this.$emit("update:selectedKeys",n),this.$emit("select",n,f),this.setUncontrolledState(d)},setTreeRef:function(e){this.tree=e},expandFolderNode:function(e,t){t.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey||this.tree.tree&&this.tree.tree.onNodeExpand(e,t)},setUncontrolledState:function(e){var t=O(e,Object.keys(d(this)).map((function(e){return"_".concat(e)})));Object.keys(t).length&&this.setState(t)},handleCheck:function(e,t){this.$emit("update:checkedKeys",e),this.$emit("check",e,t)}},render:function(){var e=this;this.children=y(this);var t=d(this),n=t.prefixCls,r=ve(t,["prefixCls"]),o=(0,this.configProvider.getPrefixCls)("tree",n),a=this.$data,c=a._expandedKeys,i=a._selectedKeys,s=this.$attrs,u=s.class,h=ve(s,["class"]),b=p("".concat(o,"-directory"),u),v=je(je(je({icon:Ke},h),O(r,["onUpdate:selectedKeys","onUpdate:checkedKeys","onUpdate:expandedKeys"])),{},{prefixCls:o,expandedKeys:c,selectedKeys:i,switcherIcon:f(this,"switcherIcon"),ref:this.setTreeRef,class:b,onSelect:this.hanldeSelect,onClick:this.handleClick,onDblclick:this.handleDoubleClick,onExpand:this.handleExpand,onCheck:this.handleCheck});return l(te,v,{default:function(){return[e.children]}})}};te.TreeNode.name="ATreeNode",te.DirectoryTree=Pe,te.install=function(e){e.component(te.name,te),e.component(te.TreeNode.name,te.TreeNode),e.component(Pe.name,Pe)};var we=m({name:"BasicTree",props:{replaceFields:{type:Object},treeData:{type:Array},actionList:{type:Array,default:()=>[]},expandedKeys:{type:Array,default:()=>[]},selectedKeys:{type:Array,default:()=>[]},checkedKeys:{type:Array,default:()=>[]},beforeRightClick:{type:Function,default:null},rightMenuList:{type:Array}},emits:["update:expandedKeys","update:selectedKeys","update:value"],setup(e,{attrs:t,slots:n,emit:r}){const o=g({expandedKeys:e.expandedKeys||[],selectedKeys:e.selectedKeys||[],checkedKeys:e.checkedKeys||[]}),a=j([]),[c]=V(),i=k((()=>{const{replaceFields:t}=e;return{children:"children",title:"title",key:"key",...t}})),l=k((()=>w(a)));function s({data:t}){return t?t.map((t=>{const{title:n,key:r,children:o}=w(i),a=$(t,"title"),c=t;return x(te.TreeNode,{...a,key:r&&c[r]},{title:()=>x("span",{class:"basic-tree-title"},n&&c[n],function(t){const{actionList:n}=e;if(n&&0!==n.length)return n.map(((e,n)=>x("span",{key:n,class:"basic-tree__action"},e.render(t))))}(t)),default:()=>s({data:o?c[o]:[]})})})):null}async function u({event:t,node:n}){const{rightMenuList:r=[],beforeRightClick:o}=e;let a=[];a=o&&_(o)?await o(n):r,a.length&&c({event:t,items:a})}function d(e){o.expandedKeys=e}function f(){return o.expandedKeys}function p(e){o.selectedKeys=e}function y(){return o.selectedKeys}function h(e){o.checkedKeys=e}function b(){return o.checkedKeys}function v(t=1,n,r=1){if(!t)return[];const o=[],a=n||e.treeData||[];for(let e=0;e<a.length;e++){const n=a[e],{key:c,children:l}=w(i),s=c?n[c]:"",u=l?n[l]:[];o.push(s),u&&u.length&&r<t&&(r+=1,o.push(...v(t,u,r)))}return o}function O({parentKey:e=null,node:t,push:n="push"}){const r=S(w(a));if(!e)return r[n](t),void(a.value=r);const{key:o,children:c}=w(i);M(r,(r=>{r[o]===e&&(r[c]=r[c]||[],r[c][n](t))})),a.value=r}function m(e,t){if(!e)return;const n=t||w(a),{key:r,children:o}=w(i);for(let t=0;t<n.length;t++){const a=n[t],c=a[o];if(a[r]===e){n.splice(t,1);break}c&&c.length&&m(e,a[o])}}function D(e,t,n){if(!e)return;const r=n||w(a),{key:o,children:c}=w(i);for(let n=0;n<r.length;n++){const a=r[n],i=a[c];if(a[o]===e){r[n]={...r[n],...t};break}i&&i.length&&D(e,t,a[c])}}return K((()=>{a.value=e.treeData,o.expandedKeys=e.expandedKeys,o.selectedKeys=e.selectedKeys,o.checkedKeys=e.checkedKeys})),P((e=>{e.setExpandedKeys=d,e.getExpandedKeys=f,e.setSelectedKeys=p,e.getSelectedKeys=y,e.setCheckedKeys=h,e.getCheckedKeys=b,e.insertNodeByKey=O,e.deleteNodeByKey=m,e.updateNodeByKey=D,e.filterByLevel=e=>{o.expandedKeys=v(e)}})),()=>{let a={blockNode:!0,...t,...e,expandedKeys:o.expandedKeys,selectedKeys:o.selectedKeys,checkedKeys:o.checkedKeys,replaceFields:w(i),"onUpdate:expandedKeys":e=>{o.expandedKeys=e,r("update:expandedKeys",e)},"onUpdate:selectedKeys":e=>{o.selectedKeys=e,r("update:selectedKeys",e)},onCheck:e=>{o.checkedKeys=e,r("update:value",e)},onRightClick:u};return a=$(a,"treeData"),x(te,{...a,class:"basic-tree"},{switcherIcon:()=>x(I,null),default:()=>s({data:w(l)}),...H(n)})}}});const xe=[{title:"parent 1",key:"0-0",icon:"home|svg",children:[{title:"leaf",key:"0-0-0"},{title:"leaf",key:"0-0-1",children:[{title:"leaf",key:"0-0-0-0"},{title:"leaf",key:"0-0-0-1"}]}]},{title:"parent 2",key:"1-1",icon:"home|svg",children:[{title:"leaf",key:"1-1-0"},{title:"leaf",key:"1-1-1"}]},{title:"parent 3",key:"2-2",icon:"home|svg",children:[{title:"leaf",key:"2-2-0"},{title:"leaf",key:"2-2-1"}]}];export{we as B,xe as t};
