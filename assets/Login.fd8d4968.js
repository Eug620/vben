let a=document.createElement("style");a.innerHTML=".login[data-v-0970308a]{position:relative;height:100vh;background:url(/assets/login-bg.65beb88d.png) 0 0/100% 100% no-repeat}.login-mask[data-v-0970308a]{display:none;height:100%;background:url(/assets/login-in.7213496d.png) 0 0/100% 100% no-repeat}@media only screen and (min-width:992px){.login-mask[data-v-0970308a]{display:block}}.login-form[data-v-0970308a]{width:100%;background:padding-box #fff;border:10px solid rgba(255,255,255,.5);border-radius:4px}.login-form-wrap[data-v-0970308a]{position:absolute;top:0;right:0;display:flex;width:100%;height:100%;justify-content:center;align-items:center}@media only screen and (min-width:992px){.login-form-wrap[data-v-0970308a]{width:40%}}@media only screen and (min-width:1200px){.login-form[data-v-0970308a]{margin:0 56px}.login-form-wrap[data-v-0970308a]{width:33.3%}}.login-form__content[data-v-0970308a]{width:100%;height:100%;border:1px solid #999;border-radius:2px}.login-form__content header[data-v-0970308a]{display:flex;justify-content:center;align-items:center}.login-form__content header img[data-v-0970308a]{display:inline-block;width:80px}.login-form__content header h1[data-v-0970308a]{margin-bottom:0;font-size:24px;color:#018ffb;text-align:center}.login-form__content form[data-v-0970308a]{width:80%}",document.head.appendChild(a);import{d as e,r as o,c as t,a as i,b as n,u as r,e as s,f as l,t as d,g as f,p as m,h as c,i as u,o as g,j as p,k as v,l as h,m as y,w as b,n as w}from"./index.12c9c6d9.js";import"./domUtils.0cbdb707.js";import"./CheckOutlined.50516744.js";import"./DoubleRightOutlined.3cd7ab31.js";import{_ as x}from"./logo.5fc40548.js";import"./tsxHelper.629ff8d8.js";import{s as _}from"./index.4994a32d.js";import{B as k}from"./ImgRotate.da885727.js";var j=e({components:{BasicDragVerify:k,AButton:_},setup(){const{globSetting:a}=s(),{notification:e}=f(),m=o(null),c=o(null),u=t((()=>i.getProjectConfig.openLoginVerify)),g=n({account:"vben",password:"123456",verify:void 0}),p=n({loading:!1}),v=n({account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],verify:r(u)?[{required:!0,message:"请通过验证码校验"}]:[]});return{formRef:m,verifyRef:c,formData:g,formState:p,formRules:v,login:async function(){const a=r(m);if(a){p.loading=!0;try{const o=await a.validate(),t=await l.login(d({password:o.password,username:o.account}));t&&e.success({message:"登录成功",description:"欢迎回来: "+t.realName,duration:3})}catch(a){}finally{!function(){const a=r(c);a&&(g.verify&&a.$.resume(),g.verify=void 0)}(),p.loading=!1}}},openLoginVerify:u,title:a&&a.title}}});const D=b("data-v-0970308a");m("data-v-0970308a");const R={class:"login"},C=v("div",{class:"login-mask"},null,-1),V={class:"login-form-wrap"},z={class:"login-form mx-6"},B={class:"login-form__content px-2 py-10"},L=v("img",{src:x,class:"mr-4"},null,-1),U=w("登录");c();const q=D((function(a,e,o,t,i,n){const r=u("a-input"),s=u("a-form-item"),l=u("a-input-password"),d=u("BasicDragVerify"),f=u("a-button"),m=u("a-form");return g(),p("div",R,[C,v("div",V,[v("div",z,[v("div",B,[v("header",null,[L,v("h1",null,h(a.title),1)]),v(m,{class:"mx-auto mt-10",model:a.formData,rules:a.formRules,ref:"formRef"},{default:D((()=>[v(s,{name:"account"},{default:D((()=>[v(r,{size:"large",value:a.formData.account,"onUpdate:value":e[1]||(e[1]=e=>a.formData.account=e),placeholder:"vben"},null,8,["value"])])),_:1}),v(s,{name:"password"},{default:D((()=>[v(l,{autofocus:"autofocus",size:"large",visibilityToggle:"",value:a.formData.password,"onUpdate:value":e[2]||(e[2]=e=>a.formData.password=e),placeholder:"123456"},null,8,["value"])])),_:1}),a.openLoginVerify?(g(),p(s,{key:0,name:"verify"},{default:D((()=>[v(d,{value:a.formData.verify,"onUpdate:value":e[3]||(e[3]=e=>a.formData.verify=e),ref:"verifyRef"},null,8,["value"])])),_:1})):y("",!0),v(s,null,{default:D((()=>[v(f,{type:"primary",size:"large",class:"rounded-sm",block:"",onClick:a.login,loading:a.formState.loading},{default:D((()=>[U])),_:1},8,["onClick","loading"])])),_:1})])),_:1},8,["model","rules"])])])])])}));j.render=q,j.__scopeId="data-v-0970308a";export default j;
